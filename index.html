<!DOCTYPE html>
<html ng-app="SmartMirror">

<head ng-controller="Theme">
  <meta charset="utf-8">
  <title>Smart Mirror</title>

  <script>
    const annyang = require('annyang')
    const fs = require('fs')
    // Error logging
    window.onerror = function (errorMsg, url, lineNumber) {
        fs.appendFileSync('./smart-mirror.log', '['+ new Date().toString() + '] '
        + errorMsg + '| Script: ' + url + ' Line: ' + lineNumber + '\n');
    }
  </script>

  <!-- bower:js -->
  <script src="bower_components/moment/min/moment-with-locales.js"></script>
  <script src="bower_components/angular/angular.js"></script>
  <script src="bower_components/angular-animate/angular-animate.js"></script>
  <script src="bower_components/angular-dynamic-locale/src/tmhDynamicLocale.js"></script>
  <script src="bower_components/angular-translate/angular-translate.js"></script>
  <script src="bower_components/angular-translate-loader-static-files/angular-translate-loader-static-files.js"></script>
  <script src="bower_components/rrule/lib/rrule.js"></script>
  <!-- endbower -->

  <script src="js/inc/skycons.js"></script>

  <!-- App -->
  <script src="config.js"></script>
  <script src="js/app.js"></script>

  <script src="js/services/timebox.js"></script>
  <script src="js/services/search.js"></script>
  <script src="js/services/speech.js"></script>
  <script src="js/services/weather.js"></script>
  <script src="js/services/comic.js"></script>
  <script src="js/services/map.js"></script>
  <script src="js/services/light.js"></script>
  <script src="js/services/giphy.js"></script>
  <script src="js/services/timer.js"></script>
  <script src="js/services/geolocation.js"></script>
  <script src="js/services/calendar.js"></script>
  <script src="js/services/traffic.js"></script>
  <script src="js/services/fitbit.js"></script>
  <script src="js/services/reminder.js"></script>
  <script src="js/services/rss.js"></script>
  <script src="js/services/tvshows.js"></script>
  <script src="js/services/autosleep.js"></script>
  <script src="js/services/stock.js"></script>
  <script src="js/services/scrobbler.js"></script>
  <script src="js/controller.js"></script>


  <link rel="shortcut icon" href="favicon.ico" />
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,800,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" ng-href="css/{{ layoutName }}.css" />
  <link rel="stylesheet" href="css/weather-icons.css">
  <!-- bower:css -->
  <!-- endbower -->

</head>

<body ng-controller="MirrorCtrl" ng-cloak="">

    <div class="container" ng-class="(listening == true)?'listening':'not-listening'">
      <div class="middle-center">
        <h1 ng-bind="greeting" class="text-floating"></h1>
        <div class='contents-box' ng-class="(listening == true)?'':'hide-image'"> <img width ='486px' src="https://67.media.tumblr.com/4b44971c1be93ee6aef1e1e98ae4d307/tumblr_o9iirbstqv1uejav0o1_500.gif"/></div>
        <div class='contents-box'ng-class="(listening == true)?'hide-image':''"> <img width ='200px' src="https://67.media.tumblr.com/4b44971c1be93ee6aef1e1e98ae4d307/tumblr_o9iirbstqv1uejav0o1_500.gif"/></div>
        <div class="contents-box video-container animate-grow" ng-show="focus == 'video'">
          <iframe class="video animate-grow" ng-src="{{video}}"/></iframe>
        </div>
      <div class="error" ng-bind="speechError" ng-show="speechError"></div>
      <div class="partial-result" ng-bind="partialResult" ng-hide="speechError"></div>
    </div>

    <div class="bottom-right">
      <!-- Someday something will live here -->
    </div>
    <div class="colors animate-grow" ng-show="focus == 'colors'">
      <div class="color-block" ng-repeat="color in colors" style="background-color:{{color}}"></div>
    </div>
  </div>
  <!-- Sleep cover -->
  <div ng-show="focus == 'sleep'" class="sleep-cover fade"></div>
</body>

</html>
